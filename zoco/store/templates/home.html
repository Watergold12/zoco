{% extends 'base.html' %}
{% load static %}
{% block content %}
<!-- Hero Section -->
    <section class="hero-section">
        <img src="{% static 'assets/zoco-hero.png' %}" alt="ZOCO Hero" class="hero-bg">
        <div class="hero-overlay"></div>

        <!-- Redesigned Hero Box: Smaller and moved to corner -->
        <div class="hero-content">
            <div class="glass hero-box scroll-reveal visible">
                <p class="hero-pretitle">Premium Essentials</p>
                <h1 class="hero-title font-heading">Elevated Comfort</h1>
                <p class="hero-desc">"Reimagining your daily wear with luxury fabrics and timeless design."</p>
                <a href="{% url 'collections' %}" class="btn-primary">Shop The Drop</a>
            </div>
        </div>

        <div class="hero-vertical-text">
            ZOCO COLLECTION 2026
        </div>
    </section>

    <!-- Essential Categories -->
    <section class="section-container">
        <div class="category-header scroll-reveal">
            <div>
                <h2 class="section-title font-heading">Shop By Category</h2>
                <div class="title-underline"></div>
            </div>
            <p class="section-subtitle">Curated pieces designed to bring elegance to your most private moments.</p>
        </div>

        <div class="category-grid">
            <!-- Category 1 -->
            <div class="category-card scroll-reveal hover-lift">
                <div class="category-image-wrapper">
                    <img src="{% static 'assets/zoco-split-1-0.jpg' %}" alt="ZOCO Bras" class="category-img">
                    <div class="category-overlay"></div>
                    <div class="category-btn-container">
                        <a href="{% url 'collections' %}" class="category-btn">View Collection</a>
                    </div>
                </div>
                <h3 class="category-title">Lace Intimates</h3>
                <p class="category-desc">Delicate lace patterns meet supportive design for an effortless feel.</p>
                <div class="discover-link">
                    Discover More <i class="fa-solid fa-arrow-right-long arrow-icon"></i>
                </div>
            </div>

            <!-- Category 2 -->
            <div class="category-card scroll-reveal hover-lift" style="transition-delay: 150ms;">
                <div class="category-image-wrapper">
                    <img src="{% static 'assets/zoco-split-1-1.jpg' %}" alt="ZOCO Sets" class="category-img">
                    <div class="category-overlay"></div>
                    <div class="category-btn-container">
                        <a href="{% url 'collections' %}" class="category-btn">Explore Sets</a>
                    </div>
                </div>
                <h3 class="category-title">Signature Sets</h3>
                <p class="category-desc">Matching sets that define the modern woman's zone of comfort.</p>
                <div class="discover-link">
                    Discover More <i class="fa-solid fa-arrow-right-long arrow-icon"></i>
                </div>
            </div>

            <!-- Category 3 -->
            <div class="category-card scroll-reveal hover-lift" style="transition-delay: 300ms;">
                <div class="category-image-wrapper">
                    <img src="{% static 'assets/zoco-split-2-0.png' %}" alt="ZOCO Premium" class="category-img">
                    <div class="category-overlay"></div>
                    <div class="category-btn-container">
                        <a href="{% url 'collections' %}" class="category-btn">Shop Premium</a>
                    </div>
                </div>
                <h3 class="category-title">Silk Series</h3>
                <p class="category-desc">Pure silk essentials that feel like a second skin. Unrivaled luxury.</p>
                <div class="discover-link">
                    Discover More <i class="fa-solid fa-arrow-right-long arrow-icon"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- Mid-Banner: Brand Experience -->
    <section class="experience-section scroll-reveal">
        <div class="experience-container">
            <div class="experience-image-group">
                <div class="experience-border"></div>
                <img src="{% static 'assets/zoco-logo-display.png' %}" alt="ZOCO Experience" class="experience-img">
                <div class="experience-badge">
                    <p class="experience-badge-text">SUSTAINABLE PACKAGING</p>
                </div>
            </div>
            <div class="experience-content">
                <h2 class="experience-heading">Unboxing <br><span class="experience-heading-highlight">Beauty &
                        Grace</span></h2>
                <p class="experience-text">"At ZOCO, we believe the experience begins before you even wear the piece.
                    Our packaging is a testament to our commitment to luxury and the planet."</p>
                <div class="pt-6">
                    <a href="{% url 'story' %}" class="btn-outline">
                        <span class="relative z-10">Our Commitment</span>
                        <span class="btn-outline-fill"></span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Collection Grid -->
    <section id="new-arrivals" class="new-arrivals-section">
        <div class="section-container">
            <div class="center-header scroll-reveal">
                <h2 class="section-title font-heading">New Arrivals</h2>
                <p class="section-subtitle" style="margin: 0 auto;">Handpicked essentials for your everyday luxury</p>
            </div>
            
            <div id="newArrivalsGrid" class="grid-products">
                {% for product in products %}
                    {% if product.is_new %}
                        <div class="product-card scroll-reveal hover-lift" style="transition-delay: ${index * 100}ms;">
                            <div class="product-image-container aspect-square bg-white shadow-sm">
                                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-img">
                                
                                <!-- New Badge -->
                                <div class="new-badge">
                                    <span class="new-badge-text">New In</span>
                                </div>

                                <!-- Overlay Actions -->
                                <div class="product-overlay">
                                    <a href="{% url 'product_detail' product.id %}" class="add-cart-btn">
                                        View Product
                                    </a>
                                </div>

                                <!-- Success Flash -->
                                <div class="added-flash" id="flash-{{ product.id }}">
                                    <i class="fa-solid fa-check text-white text-4xl"></i>
                                </div>
                            </div>
                            <div class="product-info">
                                <a class="product-title" href="{% url 'product_detail' product.id%}">{{ product.name }}</a>
                                <p class="product-price">â‚¹{{ product.price }}</p>
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
                 
            </div>
        </div>
    </section>

    <!-- Final Gallery Section -->
    <section class="gallery-section">
        <div class="center-header scroll-reveal">
            <h2 class="section-title font-heading" style="font-size: 2.25rem;">The ZOCO Aesthetic</h2>
            <p class="section-subtitle" style="font-size: 0.75rem; letter-spacing: 0.4em; text-transform: uppercase;">
                Follow us @ZOCO_Official</p>
        </div>
        <div class="gallery-grid">
            <div class="gallery-item scroll-reveal">
                <img src="{% static 'assets/zoco-y-shade.png' %}" alt="ZOCO Style" class="gallery-img">
            </div>
            <div class="gallery-item scroll-reveal" style="transition-delay: 100ms;">
                <img src="{% static 'assets/zoco-p-shade.png' %}" alt="ZOCO Style" class="gallery-img">
            </div>
            <div class="gallery-item scroll-reveal" style="transition-delay: 200ms;">
                <img src="{% static 'assets/zoco-g-shade.png' %}" alt="ZOCO Style" class="gallery-img">
            </div>
            <div class="gallery-item scroll-reveal" style="transition-delay: 300ms;">
                <img src="{% static 'assets/zoco-v-shade.png' %}" alt="ZOCO Style" class="gallery-img">
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter-section scroll-reveal">
        <div class="newsletter-blob-1"></div>
        <div class="newsletter-blob-2"></div>

        <div class="newsletter-content">
            <h2 class="section-title-1 font-heading text-white">Join the Inner Circle</h2>
            <p class="section-subtitle" style="color: rgba(255, 228, 230, 0.6); margin: 0 auto 3rem auto;">Be the first
                to experience our seasonal drops <br> and exclusive member-only events.</p>
            <div class="newsletter-form">
                <input type="email" placeholder="YOUR EMAIL ADDRESS" class="newsletter-input">
                <button class="newsletter-btn">Subscribe</button>
            </div>
        </div>
    </section>

<script>
    $(document).on('click', '#add-cart', function(e){
        e.preventDefault();
        $.ajax({
            type: 'POST',
            url: '{% url "cart_add" %}',
            data: {
                product_id: $('#add-cart').val(),
                csrfmiddlewaretoken: '{{ csrf_token }}',
                action: 'post'
            },

            success: function(json){
                document.getElementById("cart_quantity").textContent = json.qty;
                showToast();
            },
            error: function(xhr, errmsg, err){

            }
        }); 
    })
</script>
{% endblock %}